#!/bin/bash
# FrankenPHP build configuration for PHP 8.4
# Note: IMAP extension removed in PHP 8.4

export PHP_VERSION=8.4
export FRANKENPHP_VERSION=main

# Extensions (adding mongodb back - removed: ffi, spx, pdo_pgsql, gmp, imagick due to build complexity)
export PHP_EXTENSIONS="mongodb,curl,openssl,mbstring,pdo,pdo_mysql,pdo_sqlite,mysqli,redis,apcu,opcache,zip,gd,intl,bcmath,soap,xsl,dom,xml,simplexml,xmlreader,xmlwriter,tokenizer,fileinfo,filter,zlib,bz2,sodium,pcntl,posix,sockets,exif,calendar,ctype,iconv,session,phar"

# Required libraries - let build system auto-detect
export PHP_EXTENSION_LIBS=""

# Caddy modules (add custom modules here if needed)
export XCADDY_ARGS=""

# Build options
export CLEAN=1
export NO_COMPRESS=1
export DEBUG_SYMBOLS=0
export MIMALLOC=0
