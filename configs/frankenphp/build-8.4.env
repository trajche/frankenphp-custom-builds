#!/bin/bash
# FrankenPHP build configuration for PHP 8.4
# Note: IMAP extension removed in PHP 8.4

export PHP_VERSION=8.4
export FRANKENPHP_VERSION=main

# Extensions (no IMAP in PHP 8.4+)
export PHP_EXTENSIONS="mongodb,ffi,spx,curl,openssl,mbstring,pdo,pdo_mysql,pdo_pgsql,pdo_sqlite,mysqli,redis,apcu,opcache,zip,gd,imagick,intl,bcmath,gmp,soap,xsl,dom,xml,simplexml,xmlreader,xmlwriter,tokenizer,fileinfo,filter,zlib,bz2,sodium,pcntl,posix,sockets,exif,calendar,ctype,iconv,session,phar"

# Required libraries
export PHP_EXTENSION_LIBS="libmongoc,libffi,libcurl,libssl,libpng,libjpeg,libwebp,imagemagick,libxml2,libxslt,icu,libzip,libbz2,libsodium"

# Caddy modules (add custom modules here if needed)
export XCADDY_ARGS=""

# Build options
export CLEAN=1
export NO_COMPRESS=1
export DEBUG_SYMBOLS=0
export MIMALLOC=0
